# TDF Program Test Suite

ì´ ë¬¸ì„œëŠ” TDF (Trading Data Feed) í”„ë¡œê·¸ë¨ì˜ í¬ê´„ì ì¸ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤.

## ğŸ“‹ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

### 1. ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ (`tests/tdf.ts`)
- **Global State ì´ˆê¸°í™”**: í”„ë¡œê·¸ë¨ì˜ ì „ì—­ ìƒíƒœ ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸
- **Market ë¦¬ìŠ¤íŒ…**: ë§ˆì¼“ ë“±ë¡ ë° ê´€ë¦¬ í…ŒìŠ¤íŠ¸
- **League ìƒì„±**: ë¦¬ê·¸ ìƒì„± ë° ì„¤ì • í…ŒìŠ¤íŠ¸
- **League ì°¸ì—¬**: ì‚¬ìš©ìì˜ ë¦¬ê·¸ ì°¸ì—¬ í…ŒìŠ¤íŠ¸
- **í†µí•© í…ŒìŠ¤íŠ¸**: ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸

### 2. Edge Cases í…ŒìŠ¤íŠ¸ (`tests/tdf-edge-cases.ts`)
- **ê²½ê³„ê°’ í…ŒìŠ¤íŠ¸**: ìµœëŒ€/ìµœì†Œê°’ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
- **ì˜ˆì™¸ ìƒí™©**: ì˜ëª»ëœ ì…ë ¥ê°’ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
- **ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸**: ë™ì‹œ ì‘ì—… ë° ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ëŒ€ìš©ëŸ‰ ë°ì´í„° êµ¬ì¡° ì²˜ë¦¬ í…ŒìŠ¤íŠ¸

### 3. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (`tests/tdf-performance.ts`)
- **íŠ¸ëœì­ì…˜ ì„±ëŠ¥**: ê°œë³„ ì‘ì—…ì˜ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
- **ëŒ€ëŸ‰ ì‘ì—…**: ì—¬ëŸ¬ ì‚¬ìš©ìì˜ ë™ì‹œ ì°¸ì—¬ í…ŒìŠ¤íŠ¸
- **ìˆœì°¨ vs ë³‘ë ¬**: ì‘ì—… ì‹¤í–‰ ë°©ì‹ë³„ ì„±ëŠ¥ ë¹„êµ
- **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰**: ë©”ëª¨ë¦¬ ë° CPU ì‚¬ìš©ëŸ‰ ìµœì í™” í…ŒìŠ¤íŠ¸

## ğŸš€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

### ê¸°ë³¸ ì‹¤í–‰
```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
yarn test

# ë˜ëŠ”
yarn run test:runner all
```

### ê°œë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ë§Œ
yarn test:basic

# Edge cases í…ŒìŠ¤íŠ¸ë§Œ
yarn test:edge

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë§Œ
yarn test:performance
```

### í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ ì‚¬ìš©
```bash
# ë„ì›€ë§ ë³´ê¸°
yarn run test:runner help

# íŠ¹ì • í…ŒìŠ¤íŠ¸ íƒ€ì… ì‹¤í–‰
yarn run test:runner basic
yarn run test:runner edge-cases
yarn run test:runner performance
yarn run test:runner all
```

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ í•´ì„

### ì„±ê³µì ì¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```
âœ… Basic functionality tests completed successfully in 45.23s
âœ… Edge cases tests completed successfully in 78.91s
âœ… Performance tests completed successfully in 156.78s
```

### ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```
âŒ Basic functionality tests failed after 30.45s
âŒ Edge cases tests failed after 60.12s
```

## ğŸ”§ í…ŒìŠ¤íŠ¸ ì„¤ì •

### íƒ€ì„ì•„ì›ƒ ì„¤ì •
- **ê¸°ë³¸ í…ŒìŠ¤íŠ¸**: 5ë¶„ (300ì´ˆ)
- **Edge Cases**: 10ë¶„ (600ì´ˆ)
- **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: 15ë¶„ (900ì´ˆ)
- **ì „ì²´ í…ŒìŠ¤íŠ¸**: 20ë¶„ (1200ì´ˆ)

### í•„ìˆ˜ ì¡°ê±´
1. Solana ë¡œì»¬ í´ëŸ¬ìŠ¤í„° ì‹¤í–‰ ì¤‘
2. Anchor í”„ë¡œê·¸ë¨ ë¹Œë“œ ì™„ë£Œ
3. í•„ìš”í•œ ì˜ì¡´ì„± ì„¤ì¹˜ ì™„ë£Œ

## ğŸ“ˆ ì„±ëŠ¥ ê¸°ì¤€

### íŠ¸ëœì­ì…˜ ì‹¤í–‰ ì‹œê°„
- **Global State ì´ˆê¸°í™”**: < 5ì´ˆ
- **Market ë¦¬ìŠ¤íŒ…**: < 10ì´ˆ
- **League ìƒì„±**: < 15ì´ˆ
- **League ì°¸ì—¬**: < 10ì´ˆ

### ëŒ€ëŸ‰ ì‘ì—… ì„±ëŠ¥
- **10ëª… ë™ì‹œ ì°¸ì—¬**: < 60ì´ˆ
- **ë³‘ë ¬ ì‘ì—…**: ìˆœì°¨ ì‘ì—… ëŒ€ë¹„ 30% ì´ìƒ ë¹ ë¦„
- **ëŒ€ìš©ëŸ‰ ë°ì´í„°**: 10ê°œ ë§ˆì¼“ ì²˜ë¦¬ < 20ì´ˆ

## ğŸ› ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ì˜¤ë¥˜
1. **"already in use"**: ì´ë¯¸ ì´ˆê¸°í™”ëœ ìƒíƒœì—ì„œ ì¬ì´ˆê¸°í™” ì‹œë„
2. **"constraint"**: ê¶Œí•œì´ ì—†ëŠ” ì‚¬ìš©ìì˜ ì‘ì—… ì‹œë„
3. **"InsufficientEntryAmount"**: ìµœì†Œ ì°¸ì—¬ ê¸ˆì•¡ ë¯¸ë‹¬

### ë””ë²„ê¹… íŒ
1. ë¡œê·¸ ë©”ì‹œì§€ í™•ì¸: `console.log` ì¶œë ¥ í™•ì¸
2. íŠ¸ëœì­ì…˜ ì‹œê·¸ë‹ˆì²˜ í™•ì¸: ì‹¤íŒ¨í•œ íŠ¸ëœì­ì…˜ ì¶”ì 
3. ê³„ì • ìƒíƒœ í™•ì¸: PDA ë° ê³„ì • ë°ì´í„° ê²€ì¦

## ğŸ“ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

### ê¸°ëŠ¥ ì»¤ë²„ë¦¬ì§€
- âœ… Global State ê´€ë¦¬
- âœ… Market ë“±ë¡ ë° ê´€ë¦¬
- âœ… League ìƒì„± ë° ê´€ë¦¬
- âœ… ì‚¬ìš©ì ì°¸ì—¬ ë° ì…ê¸ˆ
- âœ… ê¶Œí•œ ê²€ì¦
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### ì‹œë‚˜ë¦¬ì˜¤ ì»¤ë²„ë¦¬ì§€
- âœ… ì •ìƒì ì¸ ì›Œí¬í”Œë¡œìš°
- âœ… ê¶Œí•œ ì—†ëŠ” ì ‘ê·¼
- âœ… ì˜ëª»ëœ ì…ë ¥ê°’
- âœ… ë™ì‹œ ì‘ì—…
- âœ… ëŒ€ìš©ëŸ‰ ë°ì´í„°
- âœ… ê²½ê³„ê°’ ì²˜ë¦¬

## ğŸ”„ ì§€ì†ì  í†µí•©

### CI/CD íŒŒì´í”„ë¼ì¸
```yaml
# ì˜ˆì‹œ GitHub Actions ì„¤ì •
- name: Run Tests
  run: |
    yarn install
    yarn test:basic
    yarn test:edge
    yarn test:performance
```

### í…ŒìŠ¤íŠ¸ ìë™í™”
- ì½”ë“œ ë³€ê²½ ì‹œ ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- ì„±ëŠ¥ íšŒê·€ ê°ì§€
- ì½”ë“œ í’ˆì§ˆ ëª¨ë‹ˆí„°ë§

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- [Anchor ë¬¸ì„œ](https://www.anchor-lang.com/)
- [Solana ê°œë°œì ê°€ì´ë“œ](https://docs.solana.com/)
- [SPL Token í”„ë¡œê·¸ë¨](https://spl.solana.com/token)

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

í…ŒìŠ¤íŠ¸ ê°œì„ ì„ ìœ„í•œ ì œì•ˆì‚¬í•­:
1. ìƒˆë¡œìš´ Edge Case ì¶”ê°€
2. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í™•ì¥
3. í…ŒìŠ¤íŠ¸ ìë™í™” ê°œì„ 
4. ë¬¸ì„œí™” ì—…ë°ì´íŠ¸

---

**ì°¸ê³ **: ì´ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ëŠ” TDF í”„ë¡œê·¸ë¨ì˜ ì•ˆì •ì„±ê³¼ ì„±ëŠ¥ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•´ì•¼ í”„ë¡œë•ì…˜ í™˜ê²½ì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
